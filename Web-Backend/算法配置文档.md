# è™šå‡ä¿¡æ¯æ£€æµ‹ç®—æ³•åç«¯é…ç½®æ–‡æ¡£

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº†è™šå‡ä¿¡æ¯æ£€æµ‹ç³»ç»Ÿçš„åç«¯é…ç½®ï¼ŒåŒ…æ‹¬5ä¸ªç®—æ³•æ¨¡å—çš„è™šæ‹Ÿç¯å¢ƒé…ç½®ã€å¤§æ–‡ä»¶ä¸‹è½½è¯´æ˜ä»¥åŠæœåŠ¡å¯åŠ¨åœæ­¢æ–¹æ³•ã€‚

## ğŸ—‚ï¸ ç®—æ³•æ¨¡å—è¯´æ˜

ç³»ç»ŸåŒ…å«ä»¥ä¸‹5ä¸ªæ£€æµ‹ç®—æ³•ï¼š

1. **æ–‡æœ¬è°£è¨€æ£€æµ‹** (`text_detection`) - æ£€æµ‹æ–‡æœ¬å†…å®¹çš„çœŸå®æ€§
2. **å›¾åƒä¼ªé€ æ£€æµ‹** (`image_detection`) - æ£€æµ‹å›¾åƒæ˜¯å¦è¢«ä¼ªé€ 
3. **éŸ³è§†é¢‘ä¼ªé€ æ£€æµ‹** (`audio_video_detection`) - æ£€æµ‹éŸ³è§†é¢‘å†…å®¹çš„çœŸå®æ€§
4. **å®ä½“è¯†åˆ«** (`entity_identification`) - è¯†åˆ«æ–‡æœ¬ä¸­çš„å®ä½“ä¿¡æ¯
5. **å¤šæ¨¡æ€å‡ä¿¡æ¯æ£€æµ‹** (`multimodal_detection`) - ç»¼åˆæ–‡æœ¬å’Œå›¾åƒè¿›è¡Œæ£€æµ‹

## ğŸ“¦ å¤§æ–‡ä»¶ä¸‹è½½è¯´æ˜

ç”±äºGitHubå¯¹å•ä¸ªæ–‡ä»¶å¤§å°æœ‰é™åˆ¶ï¼ˆ100MBï¼‰ï¼Œä»¥ä¸‹å¤§æ–‡ä»¶éœ€è¦é€šè¿‡ç™¾åº¦ç½‘ç›˜ä¸‹è½½å¹¶æ”¾ç½®åˆ°æŒ‡å®šç›®å½•ï¼š

### ğŸ”´ éœ€è¦ä¸‹è½½çš„å¤§æ–‡ä»¶åˆ—è¡¨

#### 1. æ–‡æœ¬è°£è¨€æ£€æµ‹æ¨¡å—
```
ğŸ“ æ–‡ä»¶è·¯å¾„: /Web-Backend/algorithms/text_detection/chinese-roberta-wwm-ext/
ğŸ“Š æ€»å¤§å°: 1.2GB
ğŸ“‹ åŒ…å«æ–‡ä»¶:
   - pytorch_model.bin (393MB)
   - tf_model.h5 (391MB)
   - flax_model.msgpack (391MB)
   - config.json
   - tokenizer.json
   - vocab.txt
   - å…¶ä»–é…ç½®æ–‡ä»¶

ğŸ“ æ–‡ä»¶è·¯å¾„: /Web-Backend/algorithms/text_detection/model/
ğŸ“Š æ€»å¤§å°: 391MB
ğŸ“‹ åŒ…å«æ–‡ä»¶:
   - best-model.bin (391MB)
```

#### 2. å›¾åƒä¼ªé€ æ£€æµ‹æ¨¡å—
```
ğŸ“ æ–‡ä»¶è·¯å¾„: /Web-Backend/algorithms/image_detection/ImageFornsicsOSN/weights/
ğŸ“Š æ€»å¤§å°: 493MB
ğŸ“‹ åŒ…å«æ–‡ä»¶:
   - detector_weights.pth (493MB)
```

#### 3. éŸ³è§†é¢‘ä¼ªé€ æ£€æµ‹æ¨¡å—
```
ğŸ“ æ–‡ä»¶è·¯å¾„: /Web-Backend/algorithms/audio_video_detection/models/
ğŸ“Š æ€»å¤§å°: 361MB
ğŸ“‹ åŒ…å«æ–‡ä»¶:
   - Deepfake-audio-detection/model.safetensors (361MB)
   - Deepfake-audio-detection/training_args.bin (4.9KB)
   - FaceForensics/classification/models/models_subset/full/xception/full_raw.pth (80MB)
```

#### 4. å®ä½“è¯†åˆ«æ¨¡å—
```
ğŸ“ æ–‡ä»¶è·¯å¾„: /Web-Backend/algorithms/entity_identification/bert-base-chinese/
ğŸ“Š æ€»å¤§å°: 393MB
ğŸ“‹ åŒ…å«æ–‡ä»¶:
   - pytorch_model.bin (393MB)
   - config.json
   - tokenizer.json
   - vocab.txt
   - å…¶ä»–é…ç½®æ–‡ä»¶

ğŸ“ æ–‡ä»¶è·¯å¾„: /Web-Backend/algorithms/entity_identification/saved_model-tagger-context/
ğŸ“Š æ€»å¤§å°: 406MB
ï¿½ï¿½ åŒ…å«æ–‡ä»¶:
   - bert-base-chinese_10.pth (406MB)
```

#### 5. å¤šæ¨¡æ€å‡ä¿¡æ¯æ£€æµ‹æ¨¡å—
```
ğŸ“ æ–‡ä»¶è·¯å¾„: /Web-Backend/algorithms/multimodal_detection/test_api/models/bert-base-uncased/
ğŸ“Š æ€»å¤§å°: 421MB
ğŸ“‹ åŒ…å«æ–‡ä»¶:
   - pytorch_model.bin (421MB)
   - config.json
   - tokenizer.json
   - vocab.txt
   - å…¶ä»–é…ç½®æ–‡ä»¶

ğŸ“ æ–‡ä»¶è·¯å¾„: /Web-Backend/algorithms/multimodal_detection/test_api/
ğŸ“Š æ€»å¤§å°: 3.9MB
ğŸ“‹ åŒ…å«æ–‡ä»¶:
   - detection_module.pt (2.5MB)
   - similarity_module.pt (1.4MB)
```

### ğŸ“¥ ä¸‹è½½å’Œæ”¾ç½®æ­¥éª¤

**ğŸ”— ç™¾åº¦ç½‘ç›˜ä¸‹è½½é“¾æ¥**
- **è™šå‡ä¿¡æ¯æ£€æµ‹ç®—æ³•** 
- é“¾æ¥: https://pan.baidu.com/s/1TtCq0jE30N22Y7AmGBp4ig?pwd=jxy2 
- æå–ç : jxy2

**ğŸ“‹ ä¸‹è½½è¯´æ˜**
- æ‰€æœ‰æ¨¡å‹æ–‡ä»¶å·²æ‰“åŒ…ä¸Šä¼ è‡³ç™¾åº¦ç½‘ç›˜
- æ€»è®¡çº¦3GBçš„æ¨¡å‹æƒé‡æ–‡ä»¶
- åŒ…å«5ä¸ªç®—æ³•æ¨¡å—çš„æ‰€æœ‰å¿…éœ€æ¨¡å‹æ–‡ä»¶

### ğŸ“¥ ä¸‹è½½å’Œæ”¾ç½®æ­¥éª¤

1. **ä¸‹è½½å‹ç¼©åŒ…**: ä»ç™¾åº¦ç½‘ç›˜ä¸‹è½½æ‰€æœ‰å¤§æ–‡ä»¶çš„å‹ç¼©åŒ…
2. **è§£å‹æ–‡ä»¶**: å°†å‹ç¼©åŒ…è§£å‹åˆ°ä¸´æ—¶ç›®å½•
3. **æ”¾ç½®æ–‡ä»¶**: æŒ‰ç…§ä¸Šè¿°è·¯å¾„ç»“æ„å°†æ–‡ä»¶æ”¾ç½®åˆ°å¯¹åº”ç›®å½•
4. **éªŒè¯æ–‡ä»¶**: ç¡®ä¿æ‰€æœ‰æ–‡ä»¶å¤§å°å’Œè·¯å¾„æ­£ç¡®

## ğŸ è™šæ‹Ÿç¯å¢ƒé…ç½®

### ç¯å¢ƒè¦æ±‚
- Python 3.8+
- Conda æˆ– Miniconda
- CUDA 11.0+ (æ¨èï¼Œç”¨äºGPUåŠ é€Ÿ)

### å¿«é€Ÿå®‰è£…æ­¥éª¤

æ¯ä¸ªç®—æ³•æ¨¡å—éƒ½æä¾›äº†è‡ªåŠ¨å®‰è£…è„šæœ¬ï¼Œåªéœ€æŒ‰ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š

#### 1. åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
```bash
# ä¸ºæ¯ä¸ªç®—æ³•åˆ›å»ºç‹¬ç«‹çš„è™šæ‹Ÿç¯å¢ƒ
conda create -n text_detection python=3.8 -y
conda create -n image_detection python=3.8 -y
conda create -n audio_video_detection python=3.8 -y
conda create -n entity_identification python=3.8 -y
conda create -n multimodal_detection python=3.8 -y
```

#### 2. æ¿€æ´»ç¯å¢ƒå¹¶è¿è¡Œå®‰è£…è„šæœ¬
```bash
# æ–‡æœ¬è°£è¨€æ£€æµ‹
conda activate text_detection
cd Web-Backend/algorithms/text_detection
bash install_step_by_step.sh

# å›¾åƒä¼ªé€ æ£€æµ‹
conda activate image_detection
cd Web-Backend/algorithms/image_detection
bash install_step_by_step.sh

# éŸ³è§†é¢‘ä¼ªé€ æ£€æµ‹
conda activate audio_video_detection
cd Web-Backend/algorithms/audio_video_detection
bash install_step_by_step.sh

# å®ä½“è¯†åˆ«
conda activate entity_identification
cd Web-Backend/algorithms/entity_identification
bash install_step_by_step.sh

# å¤šæ¨¡æ€å‡ä¿¡æ¯æ£€æµ‹
conda activate multimodal_detection
cd Web-Backend/algorithms/multimodal_detection/test_api
bash install_step_by_step.sh
```

#### 3. éªŒè¯å®‰è£…
æ¯ä¸ªå®‰è£…è„šæœ¬éƒ½ä¼šè‡ªåŠ¨éªŒè¯å…³é”®ä¾èµ–æ˜¯å¦æ­£ç¡®å®‰è£…ã€‚

**æ³¨æ„**: å®‰è£…è„šæœ¬åŸºäºå„ç®—æ³•çš„Dockerfileå’Œrequirements.txté…ç½®ï¼Œç¡®ä¿ç¯å¢ƒä¸€è‡´æ€§ã€‚

## ğŸš€ æœåŠ¡å¯åŠ¨å’Œç®¡ç†

### å¯åŠ¨æ‰€æœ‰æœåŠ¡

```bash
# è¿›å…¥é¡¹ç›®ç›®å½•
cd /path/to/search_web/Web-Backend

# å¯åŠ¨æ‰€æœ‰ç®—æ³•æœåŠ¡
bash scripts/start_all_algorithms.sh
```

### æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥æ‰€æœ‰æœåŠ¡çŠ¶æ€
bash scripts/check_services.sh
```

### åœæ­¢æ‰€æœ‰æœåŠ¡

```bash
# åœæ­¢æ‰€æœ‰ç®—æ³•æœåŠ¡
bash scripts/stop_all_algorithms.sh
```

### æœåŠ¡ç«¯å£è¯´æ˜

| ç®—æ³•æ¨¡å— | ç«¯å£ | å¥åº·æ£€æŸ¥ç«¯ç‚¹ |
|---------|------|-------------|
| æ–‡æœ¬è°£è¨€æ£€æµ‹ | 5013 | http://localhost:5013/health |
| å›¾åƒä¼ªé€ æ£€æµ‹ | 5014 | http://localhost:5014/health |
| éŸ³è§†é¢‘ä¼ªé€ æ£€æµ‹ | 5015 | http://localhost:5015/health |
| å®ä½“è¯†åˆ« | 5016 | http://localhost:5016/health |
| å¤šæ¨¡æ€å‡ä¿¡æ¯æ£€æµ‹ | 5017 | http://localhost:5017/health |

## ğŸ“ æ—¥å¿—ç®¡ç†

### æŸ¥çœ‹å®æ—¶æ—¥å¿—

```bash
# æŸ¥çœ‹æ‰€æœ‰æœåŠ¡æ—¥å¿—
tail -f logs/*.log

# æŸ¥çœ‹ç‰¹å®šæœåŠ¡æ—¥å¿—
tail -f logs/text_detection.log
tail -f logs/image_detection.log
tail -f logs/audio_video_detection.log
tail -f logs/entity_identification.log
tail -f logs/multimodal_detection.log
```

### æ—¥å¿—æ–‡ä»¶ä½ç½®

```
Web-Backend/logs/
â”œâ”€â”€ text_detection.log
â”œâ”€â”€ image_detection.log
â”œâ”€â”€ audio_video_detection.log
â”œâ”€â”€ entity_identification.log
â””â”€â”€ multimodal_detection.log
```

## ğŸ”§ æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ç«¯å£è¢«å ç”¨**
   ```bash
   # æŸ¥çœ‹ç«¯å£å ç”¨
   netstat -tlnp | grep :5013
   
   # æ€æ­»å ç”¨è¿›ç¨‹
   pkill -f "python.*build_api.py"
   ```

2. **è™šæ‹Ÿç¯å¢ƒæ¿€æ´»å¤±è´¥**
   ```bash
   # åˆå§‹åŒ–conda
   source /path/to/anaconda3/etc/profile.d/conda.sh
   
   # é‡æ–°æ¿€æ´»ç¯å¢ƒ
   conda activate text_detection
   ```

3. **æ¨¡å‹æ–‡ä»¶ç¼ºå¤±**
   - æ£€æŸ¥å¤§æ–‡ä»¶æ˜¯å¦æ­£ç¡®ä¸‹è½½å’Œæ”¾ç½®
   - éªŒè¯æ–‡ä»¶è·¯å¾„å’Œæƒé™
   - ç¡®è®¤æ–‡ä»¶å¤§å°æ­£ç¡®

4. **GPUå†…å­˜ä¸è¶³**
   ```bash
   # æŸ¥çœ‹GPUä½¿ç”¨æƒ…å†µ
   nvidia-smi
   
   # å¦‚æœå†…å­˜ä¸è¶³ï¼Œå¯ä»¥ä¿®æ”¹ä»£ç ä½¿ç”¨CPU
   # åœ¨build_api.pyä¸­æ·»åŠ : device = 'cpu'
   ```

### å¥åº·æ£€æŸ¥

```bash
# æ£€æŸ¥æ‰€æœ‰æœåŠ¡å¥åº·çŠ¶æ€
curl http://localhost:5013/health
curl http://localhost:5014/health
curl http://localhost:5015/health
curl http://localhost:5016/health
curl http://localhost:5017/health
```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **GPUåŠ é€Ÿ**: ç¡®ä¿CUDAç¯å¢ƒæ­£ç¡®é…ç½®
2. **å†…å­˜ç®¡ç†**: æ ¹æ®æœåŠ¡å™¨å†…å­˜è°ƒæ•´æ¨¡å‹åŠ è½½ç­–ç•¥
3. **å¹¶å‘å¤„ç†**: æ ¹æ®CPUæ ¸å¿ƒæ•°è°ƒæ•´Flaskçº¿ç¨‹æ•°
4. **ç¼“å­˜ç­–ç•¥**: å¯¹é¢‘ç¹ä½¿ç”¨çš„æ¨¡å‹è¿›è¡Œå†…å­˜ç¼“å­˜

## ğŸ”„ æ›´æ–°å’Œç»´æŠ¤

1. **å®šæœŸæ£€æŸ¥æ—¥å¿—**: ç›‘æ§æœåŠ¡è¿è¡ŒçŠ¶æ€
2. **å¤‡ä»½æ¨¡å‹æ–‡ä»¶**: å®šæœŸå¤‡ä»½é‡è¦çš„æ¨¡å‹æƒé‡
3. **æ›´æ–°ä¾èµ–**: å®šæœŸæ›´æ–°PythonåŒ…ç‰ˆæœ¬
4. **æ€§èƒ½ç›‘æ§**: ç›‘æ§æœåŠ¡å“åº”æ—¶é—´å’Œèµ„æºä½¿ç”¨æƒ…å†µ

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æ£€æŸ¥ï¼š
1. æ—¥å¿—æ–‡ä»¶ä¸­çš„é”™è¯¯ä¿¡æ¯
2. è™šæ‹Ÿç¯å¢ƒæ˜¯å¦æ­£ç¡®æ¿€æ´»
3. æ¨¡å‹æ–‡ä»¶æ˜¯å¦å®Œæ•´
4. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸

**æ³¨æ„**: ç¡®ä¿æ‰€æœ‰å¤§æ–‡ä»¶éƒ½å·²æ­£ç¡®ä¸‹è½½å¹¶æ”¾ç½®åˆ°æŒ‡å®šç›®å½•ï¼Œå¦åˆ™æœåŠ¡å°†æ— æ³•æ­£å¸¸å¯åŠ¨ã€‚


## ğŸ“‹ å®‰è£…è„šæœ¬è¯´æ˜

æ¯ä¸ªç®—æ³•æ¨¡å—éƒ½åŒ…å«ä¸€ä¸ª `install_step_by_step.sh` è„šæœ¬ï¼Œè¯¥è„šæœ¬ï¼š

### è„šæœ¬ç‰¹ç‚¹
- **è‡ªåŠ¨åŒ–å®‰è£…**: åŸºäºrequirements.txtæˆ–install_step_by_step.shé…ç½®
- **ç‰ˆæœ¬æ§åˆ¶**: ä½¿ç”¨ç»è¿‡æµ‹è¯•çš„ç‰¹å®šç‰ˆæœ¬ç»„åˆ
- **é”™è¯¯å¤„ç†**: åŒ…å«é”™è¯¯æ£€æŸ¥å’Œå›æ»šæœºåˆ¶
- **ç¯å¢ƒéªŒè¯**: è‡ªåŠ¨éªŒè¯å…³é”®ä¾èµ–å®‰è£…çŠ¶æ€

### è„šæœ¬å†…å®¹
- ç³»ç»Ÿä¾èµ–æ£€æŸ¥å’Œå®‰è£…
- PyTorchç‰ˆæœ¬æ¸…ç†å’Œé‡æ–°å®‰è£…
- ç®—æ³•ç‰¹å®šä¾èµ–å®‰è£…
- æ¨¡å‹æ–‡ä»¶éªŒè¯
- ç¯å¢ƒæµ‹è¯•å’ŒéªŒè¯

### ä½¿ç”¨å»ºè®®
1. **æŒ‰é¡ºåºæ‰§è¡Œ**: å»ºè®®æŒ‰ç…§æ–‡æ¡£ä¸­çš„é¡ºåºä¾æ¬¡å®‰è£…
2. **ç½‘ç»œç¯å¢ƒ**: ç¡®ä¿ç½‘ç»œè¿æ¥ç¨³å®šï¼ŒæŸäº›åŒ…éœ€è¦ä»å¤–ç½‘ä¸‹è½½
3. **æƒé™è¦æ±‚**: éƒ¨åˆ†ç³»ç»Ÿä¾èµ–å¯èƒ½éœ€è¦sudoæƒé™
4. **å­˜å‚¨ç©ºé—´**: ç¡®ä¿æœ‰è¶³å¤Ÿçš„ç£ç›˜ç©ºé—´ï¼ˆæ¯ä¸ªç¯å¢ƒçº¦2-3GBï¼‰

